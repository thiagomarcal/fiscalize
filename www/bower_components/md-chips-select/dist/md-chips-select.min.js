var MD_CHIPS_SELECT_TEMPLATE='  <md-chips-wrap class="md-chips-select" ng-class="{ \'md-focused\': isFocused() }">     <md-chip ng-repeat="chip in mdChipItems" class="md-chip">       <span class="md-chip-content">{{chip.mainTitle}} </span>      <button class="md-remove" ng-click="removeFromChips(chip)">         <span class="remove">           <svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" style="pointer-events: none; display: block;"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path></g></svg>         </span>       </button>     </md-chip>    <div class="md-chip-input-container">       <input type="text"         ng-focus="onInputFocus($event)"         ng-model="chipInput"         ng-blur="onInputBlur()"         ng-keydown="onKeyDown($event)" />      </md-chip-input-container>     </div>     <md-select-list ng-show="selectActive" ng-style="{top: ytop, left: xleft}">       <md-select-item-wrapper ng-repeat="item in mdSelectItems" ng-class="{\'active\': !isInChips(item)}" ng-show="inputQuery(item)" ng-click="toggleItem(item)">         <md-select-item-title >{{item.mainTitle}}</md-select-item-title>       </md-select-item-wrapper>     </md-select-list>   </md-chips-wrap>',MD_CHIPS_SELECTBOX_TEMPLATE='  <md-select-list ng-show="selectActive" class="ng-hide-add" ng-style="{top: ytop, left: xleft}">     <md-select-item-wrapper ng-repeat="item in mdSelectItems" ng-class="{\'active\': !isInChips($index)}"/*ng-show="isInChips($index)" */ng-click="toggleItem($index)">       <md-select-item-title >{{item.mainTitle}}</md-select-item-title>     </md-select-item-wrapper>   </md-select-list>'
angular.module("md.chips.select",[]).service("mdItems",function(){}).directive("mdChipsSelect",["$document","$compile","$log","$timeout",function(e,t,n,i){return{restrict:"E",replace:!1,controller:"mdChipsCtrl",template:function(e,t){return MD_CHIPS_SELECT_TEMPLATE},require:"?ngModel",scope:{ngModel:"=",selectItems:"=",mainTitle:"@"},link:function(t,n,c){t.mdChipItems=t.ngModel,t.mdSelectItems=t.selectItems,null==t.mainTitle&&(t.mainTitle="title")
var s=t.mainTitle.split(" ")
angular.forEach(t.mdSelectItems,function(e,t){e.mainTitle="",angular.forEach(s,function(t,n){null!=e[t]&&(e.mainTitle+=e[t].toString(),e.mainTitle+=" ")})}),e.bind("click",function(e){e.target.nodeName
"MD-SELECT-ITEM-WRAPPER"==e.target.nodeName||"MD-SELECT-ITEM-TITLE"==e.target.nodeName||"INPUT"==e.target.nodeName||"MD-ICON"==e.target.nodeName||"SPAN"==e.target.nodeName&&-1!=e.target.attributes.getNamedItem("class").value.indexOf("md-chip-content")||"SPAN"==e.target.nodeName&&-1!=e.target.attributes.getNamedItem("class").value.indexOf("remove")||i(function(){t.selectActive=!1},0)}),t.onInputFocus=function(e){t.ytop=e.currentTarget.offsetTop+35+"px",t.xleft=e.currentTarget.offsetLeft+"px",t.selectActive=!0,t.focus=!0},t.onInputBlur=function(){t.focus=!1},t.isFocused=function(){return t.focus},t.onKeyDown=function(e){13==e.which?(t.chipInput&&""!=t.chipInput&&-1==t.ngModel.indexOf(t.chipInput)&&this.ngModel.push(t.chipInput),t.chipInput=""):8==e.which&&(null==t.chipInput||""==t.chipInput)&&this.ngModel.pop()},t.removeFromChips=function(e){var n=t.ngModel.indexOf(e)
t.ngModel.splice(n,1)},t.isSelectActive=function(){return t.selectActive},t.addToChips=function(e){t.ngModel.push(e),t.chipInput="",t.chipInput.focus=!0},t.toggleItem=function(e){var n=t.ngModel.indexOf(e);-1!=n?t.removeFromChips(n):t.addToChips(e)},t.isInChips=function(e){return-1==t.ngModel.indexOf(e)},t.inputQuery=function(e){return t.chipInput&&""!=t.chipInput&&-1==angular.lowercase(e.mainTitle).indexOf(angular.lowercase(t.chipInput))?!1:!0}}}}]).controller("mdChipsCtrl",["$scope",function(e){e.focus=!1,e.selectActive=!1,e.mdChipItems=[],e.mdSelectItems=[],e.currentMdSelectItems=[],e.ytop=0,e.xleft=0}])
